<!DOCTYPE html>
<html lang="nb">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Notifications</title>
        <meta name="viewport" content="width=device-width">

        <link rel="stylesheet" href="/android-wear-kurs/css/syntax.css">
        <link href="/android-wear-kurs/css/bootstrap.min.css" rel="stylesheet" media="screen">
        <link rel="stylesheet" href="/android-wear-kurs/css/main.css">
        <script src="/android-wear-kurs/js/jquery.min.js"></script>
        <script src="/android-wear-kurs/js/bootstrap.min.js"></script>

    </head>
    <body>
      <div class="container-fluid main">
        <div class="row-fluid">
          <div class="span8">
            <h1 class="page-header">Notifications</h1>
            <img src="/android-wear-kurs/img/example2.png" class="wear-example-square"/>
<img src="/android-wear-kurs/img/example1.png" class="wear-example-rect"/>
<div>
  Det finnes to forskjellige typer Notifications: Bridged og Contextual. Bridged får man automatisk hvis man bruker Notifications på telefonen, som feks når man mottar en epost. Contextual er Notifications som oppstår akkurat når brukeren trenger det, som feks når han eller hun er i nærheten av en Pin fra Pinterest. Vi skal fokusere på sistnevnte i denne Workshopen. Bildene er hentet fra: <a href="https://developer.android.com/design/wear/patterns.html"> https://developer.android.com/design/wear/patterns.html</a>
</div>
Å lage Notifications for Android Wear er veldig likt det å lage Notifications for en håndholdt enhet. Vi bruker en <code>NotificationManager</code> til å sende et Notification-objekt vi setter opp. Dette objektet kan inneholde tekstinnhold og ikon, samt en <code> PendingIntent</code> som beskriver hvilken Activity på telefonen som kan åpnes. Å åpne denne Activitien kan gjøres ved å swipe til venstre. Da vises en "open on phone"-melding.

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Intent</span> <span class="n">viewIntent</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Intent</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">MainActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="c1">// Lag et PendingIntent med Activity som åpnes ved trykk på &quot;open on phone&quot;</span>
<span class="n">PendingIntent</span> <span class="n">viewPendingIntent</span> <span class="o">=</span>
    <span class="n">PendingIntent</span><span class="o">.</span><span class="na">getActivity</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">viewIntent</span><span class="o">,</span> <span class="n">PendingIntent</span><span class="o">.</span><span class="na">FLAG_CANCEL_CURRENT</span><span class="o">);</span>
<span class="n">NotificationCompat</span><span class="o">.</span><span class="na">Builder</span> <span class="n">notificationBuilder</span> <span class="o">=</span>
    <span class="k">new</span> <span class="n">NotificationCompat</span><span class="o">.</span><span class="na">Builder</span><span class="o">(</span><span class="k">this</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setSmallIcon</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">icon</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setLargeIcon</span><span class="o">(</span><span class="n">BitmapFactory</span><span class="o">.</span><span class="na">decodeResource</span><span class="o">(</span>
            <span class="n">getResources</span><span class="o">(),</span> <span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">icon</span><span class="o">))</span>
        <span class="o">.</span><span class="na">setContentTitle</span><span class="o">(</span><span class="s">&quot;Tittel&quot;</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setContentText</span><span class="o">(</span><span class="s">&quot;Godset fra Drammen&quot;</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setAutoCancel</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setContentIntent</span><span class="o">(</span><span class="n">viewPendingIntent</span><span class="o">);</span>
<span class="n">NotificationManagerCompat</span> <span class="n">notificationManager</span> <span class="o">=</span>
    <span class="n">NotificationManagerCompat</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">notificationManager</span><span class="o">.</span><span class="na">notify</span><span class="o">(</span><span class="n">NOTIFICATION_ID</span><span class="o">,</span> <span class="n">notificationBuilder</span><span class="o">.</span><span class="na">build</span><span class="o">());</span></code></pre></div>

Eksempelet over viser et enkelt oppsett av en Notification. Dersom man vil definere flere handlinger i en Notification kan man bruke <code>addAction()</code> Denne metoden tar inn et ikon og en PendingIntent og vil være tilgjengelig ved swipe.


          </div>
          <nav class="span4">
            <strong>Teori</strong>
            
<ul class="nav nav-pills nav-stacked">

  

  
    
  

  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/android-wear-kurs/pages/komponenter.html">Komponenter</a></li>
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
      <li class=""><a href="/android-wear-kurs/pages/kommunikasjon.html">Kommunikasjon</a></li>
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
      <li class="active"><a href="/android-wear-kurs/pages/notifications.html">Notifications</a></li>
    
  
    
  

  
</ul>
            
            <strong>Oppgaver</strong>
            
<ul class="nav nav-pills nav-stacked">

  

  
    
  

  
    
  
    
  
    
      <li class=""><a href="/android-wear-kurs/pages/installasjonsveiledning.html">Installasjonsveiledning</a></li>
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/android-wear-kurs/pages/oppgaver.html">Oppgaver</a></li>
    
  

  
</ul>
          </nav>
        </div>
      </div>

    </body>
</html>
